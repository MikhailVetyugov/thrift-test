# Мои эксперименты с Thrift

## Столкнулся во время работы:

- в доке не сказано, что на mac можно установить через brew, при установке без brew можно столкнуться со сложностями
- устанавливается не та либа для nodeJS по документации. Пакета для NodeJS по сути вообще нет.
- пример с туториала с браузерным клиентом и нодой, конечно, не работает, потому что серверная часть не использует http-server
- нужно указывать абсолютные пути для директории со статическими файлами (что я понял только из кода)
- nodejs-реализация тихо кэтчит ошибку и отдает 500 без всяких деталей
- в сервисы нужно передавать разные объекты, а нигде не сказано про это

## Итого:
- Thrift разочаровал отношением его разработчиков и по сути отсутствием документации (потратил часы и дни, чтобы
запустить простейший пример nodejs+browser)  
- Thrift выглядит непопулярной технологией  
- RPC и REST - это разные подходы с разными достоинствами и недостатками. Не вижу смысла кидаться в RPC ради скорости,
который сложнее будет дебажить. А если и кидаться, то не использовать Thrift. А инструменты описания интерфейсов
есть и для REST.

## Полезно:
https://github.com/apache/thrift/tree/master/lib/nodejs  
https://github.com/apache/thrift/tree/master/lib/js  
https://sookocheff.com/post/api/swagger-thrift-or-grpc/  
Связка браузер-сервер поддерживает http и ws. HTTP - неудобочитаемый JSON, по WS можно передавать бинарные данные.
Если убираем браузер, то можно ходить прямо поверх tcp.
Нигде не сказано про createHttpConnection в дополнение к createXHRConnection
